<!DOCTYPE html>
<html lang="en">

<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
    <meta name="google-site-verification" content="SzE6WCs23qFevgBzRIuG9vcfLU0lW_Vd5hFT-cJOLBE" />
    <title>Python模板-Jinja2</title>
    <meta charset="utf-8" />
    <meta name="description" content="">
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <link rel="shortcut icon" href="/favicon.ico"/>
        <link rel="stylesheet" href="/theme/css/styles.css" media="all" />
        <link rel="stylesheet" href="/theme/css/tab.min.css" media="all" />
        <link rel="stylesheet" href="/theme/css/jquery-ui.min.css" media="all" />

        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <!--
        <link rel="stylesheet" href="http://apps.bdimg.com/libs/fontawesome/4.2.0/css/font-awesome.min.css">
        -->
        <!--[if IE 7]>
            <link rel="stylesheet" href="/theme/css/font-awesome-ie7.min.css">
        <![endif]-->

        <link href="/" type="application/atom+xml" rel="alternate" title="wklken's blog ATOM Feed" />
        <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="wklken's blog RSS Feed" />

</head>

<body id="index" class="home">
    <div id="page" class="row">
        <div class="large-9 large-centered columns">

        <header id="header">
            <div class="constraint">
                <div class="o">
                    <a href="/"><h1 class="banner">Wklken <span class="blue"> Building </span></h1></a>

                <div class="social">
                            <a href="https://github.com/wklken" target='_blank'><i class="icon-github-sign icon-2x"></i></a>
                            <a href="http://weibo.com/wklken" target='_blank'><i class="icon-weibo icon-2x"></i></a>
                            <a href="mailto:wklken@yeah.net"><i class="icon-envelope icon-2x"></i></a>
                            <a href="http://www.wklken.me/feed.xml" target='_blank'><i class="icon-rss-sign icon-2x"></i></a>
                </div>
                <div class="nav">
                            <a href="/">首页</a>
                            <a href="/categories.html">分类</a>
                            <a href="/archives.html">归档</a>
                            <a href="/pages/projects.html">项目</a>
                            <a href="/pages/aboutme.html">关于</a>

                </div>

                </div>
            </div>
        </header><!-- /#banner -->

        <section id="main">


<article id="article">
    <section id="header">
        <!--
        <div class="meta">2013年12月21日</div>
        <h1 id="title"> Python模板-Jinja2 </h1>
        -->
        <div class="meta"> &nbsp; </div>
        <h1> Python模板-Jinja2 </h1>
    </section>

        <section id="toc">
            <html><body><div id="toc"><ul><li><a class="toc-href" href="#" title="Python模板-Jinja2">Python模板-Jinja2</a><ul><li><a class="toc-href" href="#_1" title="资源">资源</a></li><li><a class="toc-href" href="#_2" title="安装">安装</a></li><li><a class="toc-href" href="#helloworld" title="终端版helloworld">终端版helloworld</a></li><li><a class="toc-href" href="#_3" title="{%和{{">{%和{{</a></li><li><a class="toc-href" href="#_4" title="变量">变量</a></li><li><a class="toc-href" href="#_5" title="注释">注释</a></li><li><a class="toc-href" href="#_6" title="空格控制">空格控制</a></li><li><a class="toc-href" href="#escaping" title="Escaping">Escaping</a></li><li><a class="toc-href" href="#if" title="if分支判断">if分支判断</a></li><li><a class="toc-href" href="#for" title="for循环">for循环</a></li><li><a class="toc-href" href="#filters" title="filters">filters</a></li><li><a class="toc-href" href="#macros" title="Macros宏">Macros宏</a></li><li><a class="toc-href" href="#_7" title="模板继承">模板继承</a></li><li><a class="toc-href" href="#include" title="模板包含include">模板包含include</a></li><li><a class="toc-href" href="#_8" title="其他">其他</a></li></ul></li></ul></div></body></html>
        </section>
    <section id="content">
        <p><img alt="jinja" src="/imgs/python/jinja.png"/></p>
<p>Jinja2的一些使用摘要</p>
<p>Jinja2作为flask的默认页面模板，感觉蛮强大的，可适用于各种模板类相关的项目</p>
<p>特别是模板继承，写页面很舒服</p>
<hr/>
<h3 id="_1">资源</h3>
<p>文档 http://jinja.pocoo.org/docs/</p>
<h3 id="_2">安装</h3>
<div class="codehilite"><pre>sudo easy_install jinja2
sudo pip install jinja2
</pre></div>
<h3 id="helloworld">终端版helloworld</h3>
<div class="codehilite"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Template</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">'Hello {{ name }}!'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'World'</span><span class="p">)</span>
<span class="s">u'Hello World!'</span>
</pre></div>
<h3 id="_3">{%和{{</h3>
<div class="codehilite"><pre><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">"navigation"</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="nt">&lt;/ul&gt;</span>

    <span class="nt">&lt;h1&gt;</span>My Webpage<span class="nt">&lt;/h1&gt;</span>
    <span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>
<p>{% 用于执行语句</p>
<p>{{ 输出语句结果到模板</p>
<p>{{}}中的运算</p>
<div class="codehilite"><pre><span class="cp">{{</span> <span class="m">1</span> <span class="o">+</span> <span class="m">1</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="m">3</span> <span class="o">-</span> <span class="m">2</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="m">1</span> <span class="o">/</span> <span class="m">2</span> <span class="cp">}}</span><span class="x"> is </span><span class="cp">{{</span> <span class="m">0.5</span> <span class="cp">}}</span><span class="x">.</span>
<span class="cp">{{</span> <span class="m">20</span> <span class="o">//</span> <span class="m">7</span> <span class="cp">}}</span><span class="x"> is 2</span>
<span class="cp">{{</span> <span class="m">11</span> <span class="err">%</span> <span class="m">7</span> <span class="cp">}}</span><span class="x"> is 4</span>
<span class="cp">{{</span> <span class="m">2</span> <span class="o">*</span> <span class="m">2</span> <span class="cp">}}</span><span class="x"> would return 4</span>
<span class="cp">{{</span> <span class="s1">'='</span> <span class="o">*</span> <span class="m">80</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="m">2</span><span class="o">**</span><span class="m">3</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<h3 id="_4">变量</h3>
<div class="codehilite"><pre><span class="x">变量输出 - 获取属性的方法，都可以</span>
<span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="x"># 查属性 - 查子元素 - 没有报错</span>

<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s1">'bar'</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<span class="x"># 查子元素 - 查属性 - 没有报错</span>

<span class="x">变量赋值</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">navigation</span> <span class="o">=</span> <span class="o">[(</span><span class="s1">'index.html'</span><span class="o">,</span> <span class="s1">'Index'</span><span class="o">),</span> <span class="o">(</span><span class="s1">'about.html'</span><span class="o">,</span> <span class="s1">'About'</span><span class="o">)]</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">key</span><span class="o">,</span> <span class="nv">value</span> <span class="o">=</span> <span class="nv">call_something</span><span class="o">()</span> <span class="cp">%}</span><span class="x"></span>


<span class="x"># set and use it later</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">mybool</span> <span class="o">=</span> <span class="o">[</span><span class="kp">False</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="kp">_</span> <span class="o">=</span> <span class="nv">mybool.append</span><span class="o">(</span><span class="k">not</span> <span class="nv">mybool.pop</span><span class="o">())</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<h3 id="_5">注释</h3>
<div class="codehilite"><pre>{# note: disabled template because we no longer use this
    {% for user in users %}
        ...
    {% endfor %}
#}
</pre></div>
<h3 id="_6">空格控制</h3>
<div class="codehilite"><pre><span class="nt">&lt;div&gt;</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="kp">True</span> <span class="cp">%}</span>
        yay
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<p>默认，会执行 trim_blocks and lstrip_blocks</p>
<p>移除空格</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">seq</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">item</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">seq = 1 to 9</span>
<span class="x">得到 123456789</span>
</pre></div>
<h3 id="escaping">Escaping</h3>
<p>简单的</p>
<div class="codehilite"><pre><span class="cp">{{</span> <span class="s1">'{{'</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>块</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">raw</span> <span class="cp">%}</span>
    &lt;ul&gt;
    {% for item in seq %}
        &lt;li&gt;{{ item }}&lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;
<span class="cp">{%</span> <span class="k">endraw</span> <span class="cp">%}</span>
</pre></div>
<h3 id="if">if分支判断</h3>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span> <span class="m">3</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>


<span class="cp">{%</span> <span class="k">if</span> <span class="nv">kenny.sick</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Kenny is sick.</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="nv">kenny.dead</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    You killed Kenny!  You bastard!!!</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Kenny looks okay --- so far</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>可用的条件操作符</p>
<div class="codehilite"><pre>==  Compares two objects for equality.
!=  Compares two objects for inequality.
&gt;   true if the left hand side is greater than the right hand side.
&gt;=  true if the left hand side is greater or equal to the right hand side.
&lt;   true if the left hand side is lower than the right hand side.
&lt;=  true if the left hand side is lower or equal to the right hand side.
</pre></div>
<p>逻辑连接符</p>
<div class="codehilite"><pre>and     Return true if the left and the right operand is true.
or      Return true if the left or the right operand is true.
not     negate a statement (see below).
(expr)  group an expression.
</pre></div>
<p>内置测试列表 http://jinja.pocoo.org/docs/templates/#builtin-tests</p>
<div class="codehilite"><pre><span class="x">callable(object)</span>
<span class="x">defined(value)</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">variable</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            value of variable: </span><span class="cp">{{</span> <span class="nv">variable</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            variable is not defined</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">divisibleby(value, num)</span>
<span class="x">escaped(value)</span>
<span class="x">even(value)</span>
<span class="x">iterable(value)</span>
<span class="x">lower(value)</span>
<span class="x">mapping(value)</span>
<span class="x">none(value)</span>
<span class="x">number(value)</span>
<span class="x">odd(value)</span>
<span class="x">sameas(value, other)</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">foo.attribute</span> <span class="k">is</span> <span class="nf">sameas</span> <span class="kp">false</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        the foo attribute really is the `False` singleton</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">sequence(value)</span>
<span class="x">string(value)</span>
<span class="x">undefined(value)</span>
<span class="x">upper(value)</span>
</pre></div>
<h3 id="for">for循环</h3>
<div class="codehilite"><pre><span class="nt">&lt;h1&gt;</span>Members<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
<span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>

<span class="nt">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    <span class="nt">&lt;li&gt;&lt;em&gt;</span>no users found<span class="nt">&lt;/em&gt;&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
<p>循环体中可用变量</p>
<div class="codehilite"><pre><span class="nx">Variable</span>        <span class="nx">Description</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">index</span>      <span class="nx">The</span> <span class="nx">current</span> <span class="nx">iteration</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">loop</span><span class="p">.</span> <span class="p">(</span><span class="mi">1</span> <span class="nx">indexed</span><span class="p">)</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">index0</span>     <span class="nx">The</span> <span class="nx">current</span> <span class="nx">iteration</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">loop</span><span class="p">.</span> <span class="p">(</span><span class="mi">0</span> <span class="nx">indexed</span><span class="p">)</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">revindex</span>   <span class="nx">The</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">iterations</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">end</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">loop</span> <span class="p">(</span><span class="mi">1</span> <span class="nx">indexed</span><span class="p">)</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">revindex0</span>  <span class="nx">The</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">iterations</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">end</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">loop</span> <span class="p">(</span><span class="mi">0</span> <span class="nx">indexed</span><span class="p">)</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">first</span>      <span class="nx">True</span> <span class="k">if</span> <span class="nx">first</span> <span class="nx">iteration</span><span class="p">.</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">last</span>       <span class="nx">True</span> <span class="k">if</span> <span class="nx">last</span> <span class="nx">iteration</span><span class="p">.</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">length</span>     <span class="nx">The</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">items</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">sequence</span><span class="p">.</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">cycle</span>      <span class="nx">A</span> <span class="nx">helper</span> <span class="kd">function</span> <span class="nx">to</span> <span class="nx">cycle</span> <span class="nx">between</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">of</span> <span class="nx">sequences</span><span class="p">.</span> <span class="nx">See</span> <span class="nx">the</span> <span class="nx">explanation</span> <span class="nx">below</span><span class="p">.</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">depth</span>      <span class="nx">Indicates</span> <span class="nx">how</span> <span class="nx">deep</span> <span class="k">in</span> <span class="nx">deep</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">recursive</span> <span class="nx">loop</span> <span class="nx">the</span> <span class="nx">rendering</span> <span class="nx">currently</span> <span class="nx">is</span><span class="p">.</span> <span class="nx">Starts</span> <span class="nx">at</span> <span class="nx">level</span> <span class="mi">1</span>
<span class="nx">loop</span><span class="p">.</span><span class="nx">depth0</span>     <span class="nx">Indicates</span> <span class="nx">how</span> <span class="nx">deep</span> <span class="k">in</span> <span class="nx">deep</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">recursive</span> <span class="nx">loop</span> <span class="nx">the</span> <span class="nx">rendering</span> <span class="nx">currently</span> <span class="nx">is</span><span class="p">.</span> <span class="nx">Starts</span> <span class="nx">at</span> <span class="nx">level</span> <span class="mi">0</span>
</pre></div>
<h3 id="filters">filters</h3>
<div class="codehilite"><pre><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>一系列方法
内置filter列表 http://jinja.pocoo.org/docs/templates/#builtin-filters</p>
<div class="codehilite"><pre><span class="x">abs(number)</span>
<span class="x">attr(obj, name)   foo|attr("bar") works like foo["bar"]</span>
<span class="x">                  just that always an attribute is returned and items are not looked up</span>
<span class="x">batch(value, linecount, fill_with=None)</span>
<span class="x">capitalize(s)</span>
<span class="x">center(value, width=80)</span>
<span class="x">default(value, default_value=u'', boolean=False)</span>
<span class="x">                </span><span class="cp">{{</span> <span class="nv">my_variable</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">'my_variable is not defined'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">                </span><span class="cp">{{</span> <span class="s1">''</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">'the string was empty'</span><span class="o">,</span> <span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="x"> 当变量false是，用default替换</span>
<span class="x">dictsort(value, case_sensitive=False, by='key')</span>
<span class="x">escape(s)</span>
<span class="x">filesizeformat(value, binary=False)</span>
<span class="x">first(seq)  Return the first item</span>
<span class="x">float(value, default=0.0)</span>
<span class="x">forceescape(value) Enforce HTML escaping</span>
<span class="x">format(value, *args, **kwargs)</span>
<span class="x">                </span><span class="cp">{{</span> <span class="s2">"%s - %s"</span><span class="o">|</span><span class="nf">format</span><span class="o">(</span><span class="s2">"Hello?"</span><span class="o">,</span> <span class="s2">"Foo!"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">groupby(value, attribute)</span>
<span class="x">indent(s, width=4, indentfirst=False)</span>
<span class="x">                </span><span class="cp">{{</span> <span class="nv">mytext</span><span class="o">|</span><span class="nf">indent</span><span class="o">(</span><span class="m">2</span><span class="o">,</span> <span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">int(value, default=0)</span>
<span class="x">join(value, d=u'', attribute=None)</span>
<span class="x">                </span><span class="cp">{{</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]|</span><span class="nf">join</span><span class="o">(</span><span class="s1">'|'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">last(seq)</span>
<span class="x">length(object)</span>
<span class="x">list(value)</span>
<span class="x">lower(s)</span>
<span class="x">map()</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">users</span><span class="o">|</span><span class="nf">map</span><span class="o">(</span><span class="nv">attribute</span><span class="o">=</span><span class="s1">'username'</span><span class="o">)|</span><span class="nf">join</span><span class="o">(</span><span class="s1">', '</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">pprint(value, verbose=False)</span>
<span class="x">random(seq)</span>
<span class="x">reject() Filters a sequence of objects by appying a test</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">numbers</span><span class="o">|</span><span class="nf">reject</span><span class="o">(</span><span class="s2">"odd"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">rejectattr()</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">users</span><span class="o">|</span><span class="nf">rejectattr</span><span class="o">(</span><span class="s2">"is_active"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">users</span><span class="o">|</span><span class="nf">rejectattr</span><span class="o">(</span><span class="s2">"email"</span><span class="o">,</span> <span class="s2">"none"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">replace(s, old, new, count=None)</span>
<span class="x">        </span><span class="cp">{{</span> <span class="s2">"aaaaargh"</span><span class="o">|</span><span class="nf">replace</span><span class="o">(</span><span class="s2">"a"</span><span class="o">,</span> <span class="s2">"d'oh, "</span><span class="o">,</span> <span class="m">2</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">reverse(value)</span>
<span class="x">round(value, precision=0, method='common')</span>
<span class="x">        </span><span class="cp">{{</span> <span class="m">42.55</span><span class="o">|</span><span class="nf">round</span> <span class="cp">}}</span><span class="x"> 43</span>
<span class="x">        </span><span class="cp">{{</span> <span class="m">42.55</span><span class="o">|</span><span class="nf">round</span><span class="o">(</span><span class="m">1</span><span class="o">,</span> <span class="s1">'floor'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"> 42.5</span>
<span class="x">safe(value)</span>
<span class="x">        automatic escaping enabled this variable will not be escaped</span>
<span class="x">select()</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">numbers</span><span class="o">|</span><span class="nf">select</span><span class="o">(</span><span class="s2">"odd"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">selectattr()</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">users</span><span class="o">|</span><span class="nf">selectattr</span><span class="o">(</span><span class="s2">"is_active"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">users</span><span class="o">|</span><span class="nf">selectattr</span><span class="o">(</span><span class="s2">"email"</span><span class="o">,</span> <span class="s2">"none"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">slice(value, slices, fill_with=None)</span>
<span class="x">sort(value, reverse=False, case_sensitive=False, attribute=None)</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">iterable</span><span class="o">|</span><span class="nf">sort</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">iterable</span><span class="o">|</span><span class="nf">sort</span><span class="o">(</span><span class="nv">attribute</span><span class="o">=</span><span class="s1">'date'</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">string(object)</span>
<span class="x">        x|string()</span>
<span class="x">striptags(value)</span>
<span class="x">sum(iterable, attribute=None, start=0)</span>
<span class="x">        Total: </span><span class="cp">{{</span> <span class="nv">items</span><span class="o">|</span><span class="nf">sum</span><span class="o">(</span><span class="nv">attribute</span><span class="o">=</span><span class="s1">'price'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">title(s)</span>
<span class="x">trim(value)</span>
<span class="x">truncate(s, length=255, killwords=False, end='...')</span>
<span class="x">        </span><span class="cp">{{</span> <span class="s2">"foo bar"</span><span class="o">|</span><span class="nf">truncate</span><span class="o">(</span><span class="m">5</span><span class="o">)</span> <span class="cp">}}</span><span class="x">   "foo ..."</span>
<span class="x">        </span><span class="cp">{{</span> <span class="s2">"foo bar"</span><span class="o">|</span><span class="nf">truncate</span><span class="o">(</span><span class="m">5</span><span class="o">,</span> <span class="kp">True</span><span class="o">)</span> <span class="cp">}}</span><span class="x">   "foo b..."</span>
<span class="x">upper(s)</span>
<span class="x">urlencode(value)</span>
<span class="x">urlize(value, trim_url_limit=None, nofollow=False)</span>
<span class="x">wordcount(s)</span>
<span class="x">wordwrap(s, width=79, break_long_words=True, wrapstring=None)</span>
<span class="x">xmlattr(d, autospace=True)</span>
</pre></div>
<h3 id="macros">Macros宏</h3>
<p>创建</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">=</span><span class="s1">''</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">'text'</span><span class="o">,</span> <span class="nv">size</span><span class="o">=</span><span class="m">20</span><span class="o">)</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type="</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="x">" name="</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">" value="</span><span class="cp">{{</span>
        <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">" size="</span><span class="cp">{{</span> <span class="nv">size</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="cp">{%</span>- <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>使用</p>
<div class="codehilite"><pre><span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">input</span><span class="o">(</span><span class="s1">'username'</span><span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">input</span><span class="o">(</span><span class="s1">'password'</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">'password'</span><span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
</pre></div>
<p>可以在其他模板使用，需要import</p>
<p>定义</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">=</span><span class="s1">''</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">'text'</span><span class="o">)</span> -<span class="cp">%}</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">value=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">name=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span>
<span class="cp">{%</span>- <span class="k">endmacro</span> <span class="cp">%}</span>

<span class="cp">{%</span>- <span class="k">macro</span> <span class="nv">textarea</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">=</span><span class="s1">''</span><span class="o">,</span> <span class="nv">rows</span><span class="o">=</span><span class="m">10</span><span class="o">,</span> <span class="nv">cols</span><span class="o">=</span><span class="m">40</span><span class="o">)</span> -<span class="cp">%}</span>
    <span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">rows=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">rows</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">cols=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">cols</span>
        <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/textarea&gt;</span>
<span class="cp">{%</span>- <span class="k">endmacro</span> <span class="cp">%}</span>
</pre></div>
<p>使用</p>
<div class="codehilite"><pre><span class="p">{</span><span class="o">%</span> <span class="kn">import</span> <span class="s">'forms.html'</span> <span class="k">as</span> <span class="n">forms</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">dl</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="n">Username</span><span class="o">&lt;/</span><span class="n">dt</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dd</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">forms</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s">'username'</span><span class="p">)</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">dd</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="n">Password</span><span class="o">&lt;/</span><span class="n">dt</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dd</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">forms</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s">'password'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">'password'</span><span class="p">)</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">dd</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dl</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">forms</span><span class="o">.</span><span class="n">textarea</span><span class="p">(</span><span class="s">'comment'</span><span class="p">)</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
<p>或者是</p>
<div class="codehilite"><pre><span class="p">{</span><span class="o">%</span> <span class="kn">from</span> <span class="s">'forms.html'</span> <span class="kn">import</span> <span class="nn">input</span> <span class="kn">as</span> <span class="nn">input_field</span><span class="o">,</span> <span class="nn">textarea</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
<p>宏与宏之间的交互</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">render_dialog</span><span class="o">(</span><span class="nv">title</span><span class="o">,</span> <span class="nv">class</span><span class="o">=</span><span class="s1">'dialog'</span><span class="o">)</span> -<span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">class</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">title</span> <span class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"contents"</span><span class="nt">&gt;</span>
            <span class="cp">{{</span> <span class="nv">caller</span><span class="o">()</span> <span class="cp">}}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span>- <span class="k">endmacro</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">call</span> <span class="nv">render_dialog</span><span class="o">(</span><span class="s1">'Hello World'</span><span class="o">)</span> <span class="cp">%}</span>
    This is a simple dialog rendered by using a macro and
    a call block.
<span class="cp">{%</span> <span class="k">endcall</span> <span class="cp">%}</span>
</pre></div>
<h3 id="_7">模板继承</h3>
<p>父模板</p>
<div class="codehilite"><pre><span class="cp">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"style.css"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="nt">&lt;/title&gt;</span>
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"content"</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"footer"</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
        <span class="ni">&amp;copy;</span> Copyright 2008 by <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://domain.invalid/"</span><span class="nt">&gt;</span>you<span class="nt">&lt;/a&gt;</span>.
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>
<p>子模板</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base.html"</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Index<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">super</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="nt">&lt;style</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
        .important { color: #336699; }
    <span class="nt">&lt;/style&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Index<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"important"</span><span class="nt">&gt;</span>
    Welcome on my awesome homepage.
    <span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
<p>注意，可以有更好的可读性</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        ...</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<h3 id="include">模板包含include</h3>
<div class="codehilite"><pre>{% include 'header.html' %}
    Body
{% include 'footer.html' %}

#jinja2.2
{% include "sidebar.html" ignore missing %}
{% include "sidebar.html" ignore missing with context %}
{% include "sidebar.html" ignore missing without context %}
</pre></div>
<h3 id="_8">其他</h3>
<p>1.一些列表方法</p>
<p>http://jinja.pocoo.org/docs/templates/#list-of-global-functions</p>
<p>2.其他操作符</p>
<div class="codehilite"><pre><span class="x">in      Perform sequence / mapping containment test. Returns true if the left operand is contained in the right. </span><span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span><span class="x"> would for example return true.</span>
<span class="x">is      Performs a test.</span>
<span class="x">|       Applies a filter.</span>
<span class="x">~       Converts all operands into strings and concatenates them. </span><span class="cp">{{</span> <span class="s2">"Hello "</span> <span class="o">~</span> <span class="nv">name</span> <span class="o">~</span> <span class="s2">"!"</span> <span class="cp">}}</span><span class="x"> would return (assuming name is 'John') Hello John!.</span>
<span class="x">()      Call a callable: </span><span class="cp">{{</span> <span class="nv">post.render</span><span class="o">()</span> <span class="cp">}}</span><span class="x">. Inside of the parentheses you can use positional arguments and keyword arguments like in python: </span><span class="cp">{{</span> <span class="nv">post.render</span><span class="o">(</span><span class="nv">user</span><span class="o">,</span> <span class="nv">full</span><span class="o">=</span><span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="x">.</span>
<span class="x">. / []  Get an attribute of an object. (See Variables)</span>
</pre></div>
<p>3.range, 可以正常使用range</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">n</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="nv">n</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span><span class="nv">n</span><span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<hr/>
<p>The end. 未完待续</p>
<p>wklken</p>
<p>http://www.wklken.me</p>
<p>2013-12-21</p>
    </section>

    <section id="copyright">
        <div class="copyright">
            版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" >Creative Commons BY-NC-ND 3.0</a>
        </div>

        <div class="donation">
            <center>
            <img src="/imgs/life/donation.png"/>
            <strong> 如果你觉得我的文章或项目对你有所帮助, You can buy me a coffee:) </strong>
            </center>
        </div>
    </section>


    <section id="neighbors">
        <div>
                        <a class="left" href="http://www.wklken.me/posts/2013/12/14/python-template-mako.html">
                            上一篇:  Python模板-Mako
                        </a>
                        <a class="right" href="http://www.wklken.me/posts/2013/12/21/python-jd.html">
                            下一篇: Python招聘需求与技能体系
                        </a>
        </div>
    </section>

<section id="comments">
        <div class="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_identifier = "posts/2013/12/21/python-template-jinja2.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://wklken.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            </div>
</section>
</article>
        </section><!--end #main-->

            <footer class="row">
                <div class="large-12 columns">
                    <p>
                            Copyright © 2015 wklken <br>
                            Hosted on <a href="http://www.vultr.com/?ref=6847203"> vultr </a> . Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>.
                    </p>
                </div>
            </footer>

            </div>
        </div>

        <section id="extras" class="body">
        </section><!-- /#extras -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-42275748-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>



<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/jquery-scrollUp/2.1.0/jquery.scrollUp.min.js"></script>
<script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script>
    $(function(){
        $.scrollUp({
              scrollText: '', // Text for element, can contain HTML
            });
    });
</script>


<script type="text/javascript">
  /* var Swiftype = window.Swiftype || {}; */
  /* Swiftype.searchSearchFields = { */
    /* "page": ["title^10", "body"] */
  /* }; */

  /* (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ */
  /* (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); */
  /* e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); */
  /* })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st'); */

  /* _st('install','v6K-_DamCeHvwX6z3o2F'); */
</script>

<script src="/theme/js/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>


<div id="share">
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["mshare","tsina","weixin","douban","meilishuo","mogujie","youdao","sdo","mail","twi","copy","print"],"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"5","bdPos":"right","bdTop":"96.5"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>



<script  src="http://www.wklken.me/theme/js/scroll-header.js" type="text/javascript"></script>



</body>
</html>