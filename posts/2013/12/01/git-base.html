<!DOCTYPE html>
<html lang="en">

<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
    <meta name="google-site-verification" content="SzE6WCs23qFevgBzRIuG9vcfLU0lW_Vd5hFT-cJOLBE" />
    <title>Git操作小结</title>
    <meta charset="utf-8" />
    <meta name="description" content="">
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <link rel="shortcut icon" href="/favicon.ico"/>
        <link rel="stylesheet" href="/theme/css/styles.css" media="all" />
        <link rel="stylesheet" href="/theme/css/tab.min.css" media="all" />
        <link rel="stylesheet" href="/theme/css/jquery-ui.min.css" media="all" />

        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <!--
        <link rel="stylesheet" href="http://apps.bdimg.com/libs/fontawesome/4.2.0/css/font-awesome.min.css">
        -->
        <!--[if IE 7]>
            <link rel="stylesheet" href="/theme/css/font-awesome-ie7.min.css">
        <![endif]-->

        <link href="/" type="application/atom+xml" rel="alternate" title="wklken's blog ATOM Feed" />
        <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="wklken's blog RSS Feed" />

</head>

<body>
    <div id="page" class="row">
        <div class="large-9 large-centered columns">

        <header id="header">
            <div class="constraint">
                <div class="o">
                    <a href="/"><h1 class="banner">Wklken <span class="blue"> Building </span></h1></a>

                <div class="social">
                            <a href="https://github.com/wklken" target='_blank'><i class="icon-github-sign icon-2x"></i></a>
                            <a href="http://weibo.com/wklken" target='_blank'><i class="icon-weibo icon-2x"></i></a>
                            <a href="mailto:wklken@yeah.net"><i class="icon-envelope icon-2x"></i></a>
                            <a href="http://www.wklken.me/feed.xml" target='_blank'><i class="icon-rss-sign icon-2x"></i></a>
                </div>
                <div class="nav">
                            <a href="/">首页</a>
                            <a href="/categories.html">分类</a>
                            <a href="/archives.html">归档</a>
                            <a href="/pages/projects.html">项目</a>
                            <a href="/pages/aboutme.html">关于</a>

                </div>

                </div>
            </div>
        </header><!-- /#banner -->

        <section id="main">


<article id="article">
    <section id="header">
        <!--
        <div class="meta">2013年12月01日</div>
        <h1 id="title"> Git操作小结 </h1>
        -->
        <div class="meta"> &nbsp; </div>
        <h1> Git操作小结 </h1>
    </section>

        <section id="toc">
            <div id="toc"><ul><li><a class="toc-href" href="#" title="Git操作小结">Git操作小结</a><ul><li><a class="toc-href" href="#_1" title="教程资源">教程资源</a></li><li><a class="toc-href" href="#git-config" title="git config">git config</a></li><li><a class="toc-href" href="#_2" title="仓库基本操作">仓库基本操作</a></li><li><a class="toc-href" href="#_3" title="基本操作">基本操作</a></li><li><a class="toc-href" href="#_4" title="分支操作">分支操作</a></li><li><a class="toc-href" href="#tag" title="tag操作">tag操作</a></li><li><a class="toc-href" href="#_5" title="忽略某些文件">忽略某些文件</a></li><li><a class="toc-href" href="#_6" title="常见问题">常见问题</a></li><li><a class="toc-href" href="#_7" title="其他">其他</a></li></ul></li></ul></div>
        </section>
    <section id="content">
        <p>git操作小结，资料来源于网络</p>
<h3 id="_1">教程资源</h3>
<blockquote>
<p>在线教程(重点推荐)</p>
</blockquote>
<p><a href="http://try.github.io/levels/1/challenges/1">TryGit</a></p>
<p><a href="http://pcottle.github.io/learnGitBranching/">LearnGitBranchin</a></p>
<p><a href="https://www.gitbook.io/book/lvwzhen/Git-Tutorial">廖雪峰git教程</a></p>
<p><a href="https://github.com/Gazler/githug">githug</a> (通关游戏，<a href="http://fancyoung.com/blog/githug-cheat-sheet/">攻略</a>)</p>
<p><a href="https://www.atlassian.com/git/tutorial/git-basics">Git Tutorials</a></p>
<p><a href="http://gitimmersion.com/">Git Immersion</a></p>
<blockquote>
<p>资源</p>
</blockquote>
<p><a href="http://gitref.org/zh/basic/">Git 参考手册</a></p>
<p><a href="http://git-scm.com/book/zh">Pro git</a></p>
<p><a href="http://chimera.labs.oreilly.com/books/1230000000561/index.html">Git Pocket Guide</a></p>
<p><a href="http://ikandou.com/io/book/48272048/">git自下而上方法-爱看豆</a></p>
<blockquote>
<p>文章</p>
</blockquote>
<p><a href="http://blog.jobbole.com/50603/">写给Git初学者的7个建议</a></p>
<p><a href="http://rogerdudler.github.io/git-guide/index.zh.html">git简易指南</a></p>
<p><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">图解git</a></p>
<p><a href="http://youngsterxyf.github.io/2013/09/28/learning-git-internals-by-example/">通过示例学习git构造</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2012/07/git.html">git分支管理策略</a></p>
<p><a href="http://luolei.org/2013/09/git-config-advanced/">Git log diff config高级进阶</a></p>
<p><a href="http://www.oschina.net/translate/10-useful-advanced-git-commands">10个很有用的高级git命令</a></p>
<p><a href="http://ux.etao.com/posts/711">高富帅们的git技巧</a></p>
<p><a href="http://blog.jobbole.com/43288/">一些实用的GitHub模式</a></p>
<h3 id="git-config">git config</h3>
<p>git配置文件~/.gitconfig</p>
<div class="codehilite"><pre>#查看帮助
git config --help

git config --global user.name "Your Name Here"

其他常用config
git config --global user.name "robbin"
git config --global user.email "fankai#gmail.com"
git config --global color.ui true

#alias
git config --global alias.co checkout
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.br branch

git config --global core.editor "mate -w"    # 设置Editor使用textmate
git config -1 #列举所有配置
</pre></div>
<h3 id="_2">仓库基本操作</h3>
<p>1.检出一个项目</p>
<div class="codehilite"><pre>git clone path-to-git-repository
</pre></div>
<p>2.更新本地仓库到最新改动</p>
<div class="codehilite"><pre>git pull
</pre></div>
<p>2.将现有项目推送到远程</p>
<div class="codehilite"><pre>cd test   #跳到要提交的目录下
git init  #初始化git
git add . #将所有文件加入到索引
git commit #提交到HEAD
git remote add origin &lt;server&gt; #增加到remote
git push origin master #推送过去! DONE
</pre></div>
<p>3.丢弃本地所有改动与提交，获取服务器上最新版本并将主干分支指向它</p>
<div class="codehilite"><pre>git fetch origin
git reset --hard origin/master
</pre></div>
<h3 id="_3">基本操作</h3>
<p><img alt="git-flow-structure" src="/imgs/git-base/git-flow-structure.png"/></p>
<p>1.添加(CurrentDir -&gt; Stage)</p>
<div class="codehilite"><pre>git add file_name
git add *
</pre></div>
<p>3.删除(CurrentDir -&gt; Stage)</p>
<div class="codehilite"><pre>git rm file_name  #从版本控制中删除，并删除磁盘上的文件
git rm --cached file_name #不删除磁盘上的
</pre></div>
<p>3.取消add/rm(Stage -&gt; CurrentDir)</p>
<div class="codehilite"><pre>git reset HEAD file_name
</pre></div>
<p>2.提交(Stage -&gt; HEAD)</p>
<div class="codehilite"><pre>git commit file_name -m '提交信息'
</pre></div>
<p>4.推送改动(HEAD -&gt; Remote)</p>
<div class="codehilite"><pre>git push origin master
</pre></div>
<p>4.diff</p>
<div class="codehilite"><pre>git diff  #diff CurrentDir Stage, 查看有哪些需要add
git diff --cached/--staged     #哪些需要commit
</pre></div>
<p>5.log</p>
<div class="codehilite"><pre>git log  #查看日志
</pre></div>
<p>7.替换掉本地改动(Stage -&gt; CurrentDir)</p>
<div class="codehilite"><pre>git checkout -- &lt;filename&gt;
</pre></div>
<p>8.mv</p>
<div class="codehilite"><pre>git mv old_name new_name #重命名
</pre></div>
<p>BEGIN: add -&gt; commit -&gt; push -&gt; DONE</p>
<p>文件变化状态图</p>
<p><img alt="git-file-status-lifecycle" src="/imgs/git-base/git-file-status-lifecycle.png"/></p>
<h3 id="_4">分支操作</h3>
<p><img alt="git-branch" src="/imgs/git-base/git-branch.png"/></p>
<p>1.创建分支</p>
<div class="codehilite"><pre>git branch new_br_name #创建
git branch             #查看当前有的分支

git checkout new_br_name #切换到新分支

git checkout -b new_br_name #创建并切过去
</pre></div>
<p>2.远程分支</p>
<div class="codehilite"><pre>git push origin new_br_name  #推送branch到远端维护起来

#删除
git push origin : &lt;new_br_name&gt;
or
git push origin --delete &lt;new_br_name&gt;
</pre></div>
<p>3.合并分支(merge)</p>
<div class="codehilite"><pre>git branch  #查看当前分支
git checkout master #切换回主干
git merge new_br_name  #合并new_br_name分支到主干, 自动合并

1.没冲突(no conflicts) -&gt; fine -&gt; commit -&gt; push to remote

2.有冲突(conflicts)
git diff   #查看当前哪些文件有冲突, 标识 unmerged
vim xxx    #手动编辑解决冲突

    冲突文件中标识
    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:file.txt
    Hello world  #当前branch的
    =======
    Goodbye      #要合并branch的
    &gt;&gt;&gt;&gt;&gt;&gt;&gt; 77976da35a11db4580b80ae27e8d65caf5208086:file.txt

git add xxx #加入

-&gt; 解决所有冲突之后 -&gt; commit -&gt; push to remote
</pre></div>
<p>3.删除无用分支</p>
<div class="codehilite"><pre>git branch -d new_br_name  #只能删除已经被当前分支合并的分支
git branch -D new_br_name  #强删
</pre></div>
<p>4.撤销一个合并</p>
<div class="codehilite"><pre>git reset --hard HEAD
</pre></div>
<h3 id="tag">tag操作</h3>
<p>BP:在发布之前，创建标签</p>
<p>1.创建删除</p>
<div class="codehilite"><pre>创建
git tag tag_name &lt;commit ID&gt; #commit ID可以通过git log来查看

删除
git tag -d tag_name
</pre></div>
<p>3.远程tag</p>
<div class="codehilite"><pre>推送所有tags
git push --tags

删除
git push origin --delete tag &lt;tag_name&gt;
</pre></div>
<h3 id="_5">忽略某些文件</h3>
<p>项目中那些不需要的文件(untracked),可以忽略</p>
<p>顶层工作目录中添加一个叫".gitignore"的文件 <a href="https://www.kernel.org/pub/software/scm/git/docs/gitignore.html">语法文档</a></p>
<div class="codehilite"><pre># 以'#' 开始的行，被视为注释.
# 忽略掉所有文件名是 foo.txt 的文件.
foo.txt
# 忽略所有生成的 html 文件,
*.html
# foo.html是手工维护的，所以例外.
!foo.html
#  忽略所有.o 和 .a文件.
*.[oa]
</pre></div>
<h3 id="_6">常见问题</h3>
<p>1.如何让git能处理汉字文件名</p>
<p>git默认quote任何非ascii文件名字符,想要支持非</p>
<div class="codehilite"><pre><span class="x">git config --global core.quotepath false</span>

<span class="x">或者在</span><span class="p">$</span><span class="nv">HOME</span><span class="x">/.gitconfig 配置</span>
<span class="x">[core]</span>
<span class="x">    quotepath = false</span>
</pre></div>
<p>2.git add -A 和 git add .的区别</p>
<div class="codehilite"><pre>"git add -A"  = "git add .; git add -u".

- git add -A stages All
- git add . stages new and modified, without deleted
- git add -u stages modified and deleted, without new
</pre></div>
<p>3.怎么配置git结果显示颜色</p>
<div class="codehilite"><pre><span class="k">[color]</span>
<span class="c1">#开启着色功能</span>
    <span class="na">status</span> <span class="o">=</span> <span class="s">auto</span>
<span class="s">    diff = auto</span>
<span class="s">    branch = auto</span>
<span class="s">    interactive = auto</span>
</pre></div>
<p>4.获得帮助</p>
<div class="codehilite"><pre>git help &lt;command&gt;  # 显示command的help
</pre></div>
<h3 id="_7">其他</h3>
<p>1.<a href="http://luolei.org/2013/08/better-git-log/">更好的git log</a></p>
<div class="codehilite"><pre>git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"
#然后使用 git lg
</pre></div>
<p>2.自己搭建代码库</p>
<p>类似github的应用，gitlab(google之)</p>
<p>3.git-flow</p>
<p><a href="http://danielkummer.github.io/git-flow-cheatsheet/index.zh_CN.html">git-flow备忘清单</a></p>
<p>4.基于git的wiki</p>
<p>gollum(google之)</p>
<hr/>
<p>wklken</p>
<p>2013-12-01</p>
    </section>

    <section id="copyright">
        <div class="copyright">
            版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" >Creative Commons BY-NC-ND 3.0</a>
        </div>

        <div class="donation">
            <center>
            <img src="/imgs/life/donation.png"/>
            <strong> 如果你觉得我的文章或项目对你有所帮助, 可小额捐赠 ¥0.99/¥2.99/¥4.99/¥9.9 用于站点域名及主机维护:)</strong>
            </center>
        </div>
    </section>


    <section id="neighbors">
        <div>
                        <a class="left" href="http://www.wklken.me/posts/2013/11/25/summary-of-the-hitchhikers-guide-2-python.html">
                            上一篇:  [摘要]Python 最佳实践指南
                        </a>
                        <a class="right" href="http://www.wklken.me/posts/2013/12/14/python-template-mako.html">
                            下一篇: Python模板-Mako
                        </a>
        </div>
    </section>

    <section id="ad">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- blog_ad_001 -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7635941258020589"
            data-ad-slot="3455159758"
            data-ad-format="auto"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </section>



<section id="comments">
        <div class="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_identifier = "posts/2013/12/01/git-base.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://wklken.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            </div>
</section>



</article>
        </section><!--end #main-->

            <footer class="row">
                <div class="large-12 columns">
                    <p>
                            Copyright © 2015 wklken <br>
                            Hosted on <a href="http://www.vultr.com/?ref=6847203"> vultr </a> Also <a href="https://www.digitalocean.com/?refcode=8ee73f2c47ce"> DigitalOcean </a>. Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>.
                    </p>
                </div>
            </footer>

            </div>
        </div>

        <section id="extras" class="body">
        </section><!-- /#extras -->



<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/jquery-scrollUp/2.1.0/jquery.scrollUp.min.js"></script>
<script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script>
    $(function(){
        $.scrollUp({
              scrollText: '', // Text for element, can contain HTML
            });
    });
</script>


<script type="text/javascript">
  /* var Swiftype = window.Swiftype || {}; */
  /* Swiftype.searchSearchFields = { */
    /* "page": ["title^10", "body"] */
  /* }; */

  /* (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ */
  /* (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); */
  /* e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); */
  /* })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st'); */

  /* _st('install','v6K-_DamCeHvwX6z3o2F'); */
</script>



    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-42275748-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>




<div id="share">
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["mshare","tsina","weixin","douban","meilishuo","mogujie","youdao","sdo","mail","twi","copy","print"],"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"5","bdPos":"right","bdTop":"96.5"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>



<script  src="http://www.wklken.me/theme/js/scroll-header.js" type="text/javascript"></script>




</body>
</html>