<!DOCTYPE html>
<html lang="en">

<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
    <meta name="google-site-verification" content="SzE6WCs23qFevgBzRIuG9vcfLU0lW_Vd5hFT-cJOLBE" />
    <title>简约之美 & 编写可读代码的艺术</title>
    <meta charset="utf-8" />
    <meta name="description" content="">
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <link rel="shortcut icon" href="/favicon.ico"/>
        <link rel="stylesheet" href="/theme/css/styles.css" media="all" />
        <link rel="stylesheet" href="/theme/css/tab.min.css" media="all" />
        <link rel="stylesheet" href="/theme/css/jquery-ui.min.css" media="all" />

        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <!--
        <link rel="stylesheet" href="http://apps.bdimg.com/libs/fontawesome/4.2.0/css/font-awesome.min.css">
        -->
        <!--[if IE 7]>
            <link rel="stylesheet" href="/theme/css/font-awesome-ie7.min.css">
        <![endif]-->

        <link href="/" type="application/atom+xml" rel="alternate" title="wklken's blog ATOM Feed" />
        <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="wklken's blog RSS Feed" />

</head>

<body>
    <div id="page" class="row">
        <div class="large-9 large-centered columns">

        <header id="header">
            <div class="constraint">
                <div class="o">
                    <a href="/"><h1 class="banner">Wklken <span class="blue"> Building </span></h1></a>

                <div class="social">
                            <a href="https://github.com/wklken" target='_blank'><i class="icon-github-sign icon-2x"></i></a>
                            <a href="http://weibo.com/wklken" target='_blank'><i class="icon-weibo icon-2x"></i></a>
                            <a href="mailto:wklken@yeah.net"><i class="icon-envelope icon-2x"></i></a>
                            <a href="http://www.wklken.me/feed.xml" target='_blank'><i class="icon-rss-sign icon-2x"></i></a>
                </div>
                <div class="nav">
                            <a href="/">首页</a>
                            <a href="/categories.html">分类</a>
                            <a href="/archives.html">归档</a>
                            <a href="/pages/projects.html">项目</a>
                            <a href="/pages/aboutme.html">关于</a>

                </div>

                </div>
            </div>
        </header><!-- /#banner -->

        <section id="main">


<article id="article">
    <section id="header">
        <!--
        <div class="meta">2014年11月16日</div>
        <h1 id="title"> 简约之美 & 编写可读代码的艺术 </h1>
        -->
        <div class="meta"> &nbsp; </div>
        <h1> 简约之美 & 编写可读代码的艺术 </h1>
    </section>

        <section id="toc">
            <div id="toc"><ul><li><a class="toc-href" href="#" title="简约之美 &amp; 编写可读代码的艺术">简约之美 &amp; 编写可读代码的艺术</a><ul><li><a class="toc-href" href="#_1" title="简约之美">简约之美</a></li><li><a class="toc-href" href="#_2" title="编写可读代码的艺术">编写可读代码的艺术</a></li></ul></li></ul></div>
        </section>
    <section id="content">
        <p>最近陆续收到一些donation, 非常感谢哈, blog的文章说多不多说少不少, 大部分是笔记性质的, 主要目的还是积累以及方便自己查询回顾, 分享出来, 希望有所帮助:)</p>
<p>ps: 昨天将国内ip切到gitcafe了, 加载速度应该快了很多, 在此特别感谢下<a href="https://gitcafe.com/">gitcafe</a>. (关于如何国内国外切分访问, google大法)</p>
<p>今天要提的是&lt;&lt;简约之美&mdash;软件设计之道&gt;&gt; 以及 &lt;&lt;编写可读代码的艺术&gt;&gt;, 主要原因是, 经典, 更重要的是, 足够薄:), 建议买了珍藏, 也是属于那种不同时期反复读会有不同感受的书</p>
<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</p>
<h2 id="_1">简约之美</h2>
<p>这本书, 用一百页来说明, 软件开发设计中, 一些十分简单的道理.</p>
<p><img alt="封面" src="/imgs/books/code-simplicity.jpg"/></p>
<blockquote>
<p>好的程序员和差的程序员的区别在于理解能力. 差劲的程序员不理解自己做的事情, 优秀的程序员则相反. </p>
</blockquote>
<p><code>理解能力</code>, 看起来蛮虚的一个词, 但是在工作中真正进行沟通时, 你会发现区别非常大, 决定了是<code>一次沟通</code> 还是 <code>反复沟通</code>; 是<code>直达目标</code>, 还是<code>不断曲折</code>; 是一次<code>搞定</code>, 还是<code>改改改</code>; 是<code>反馈有效问题</code>, 还是<code>反馈不是你的问题的问题空耗你的时间</code>. 所以花费时间去理解需求, 想明白之后再开始写代码, 这个很重要! (真正团队干活你会有直观感受的)</p>
<blockquote>
<p>问题的根源通常在于编程......这一切都与复杂性有关......编程就成了把复杂问题化解为简单问题的劳动......&rdquo;好程序员&rdquo;应当竭尽全力, 把程序写得让其他程序员容易理解.</p>
</blockquote>
<p>bug的本质, 归根结底在于编程本身. </p>
<p>我们往往容易把问题复杂化(大而全, 追求完美, 过早优化, 过早关注细节), 而过度复杂的后果导致后期代码的难以维护.(所谓的到时候再改/重构, 都是虚妄的), 程序员遇到一坨代码(别人写的或者之前写的), 有优化的冲动, 但是迫于需求或者时间或者系统稳定性, 往往惧怕<code>变化</code>, 这段代码能工作就行.</p>
<p>但是为什么要复杂化呢? 最简单的, 莫过于在最初就做到最好, 不要给自己<code>到时候再重构</code>的念头. 写好每行代码.</p>
<p>这里的<code>其他程序员</code>, 也可能是<code>一个月</code>后的自己. 如果经常发现回头看自己的代码都看不懂, 那么说明进步的余地还是很大的:). </p>
<p>到这里, 我们的目标转向: 寻找提高代码质量的科学方法.</p>
<blockquote>
<p>每个写代码的人都是设计师</p>
</blockquote>
<p>小到一个变量名, 一个判断逻辑, 大到一个函数, 一个类, 一个算法, 从代码里可以感受到很多东西. 拿建筑设计师对比, 写代码, 如同构筑一栋建筑, 不管是小屋/公寓还是摩天大厦, 好的设计永远美好, 而糟糕的设计, 无论大小, 永远丑陋. 很多概念, 意识和技巧在里面.(建议阅读<code>编写可读代码的艺术</code>, 然后是<code>代码大全</code>)</p>
<blockquote>
<p>全部软件都有一个相同的目标: 帮助其他人......不能理解<code>帮助其他人</code>的程序员, 只能写出糟糕的程序, 也就是说, 他们的程序提供不了什么帮助&hellip;&hellip;在做与软件有关的决策时, 指导法则就是判断能够提供什么样的帮助</p>
</blockquote>
<p>同样, 这里的<code>其他人</code>, 可能是你自己. </p>
<p>需求的优先级, 取决于这个需求对于用户帮助的大小.</p>
<p>你这样做/这个功能/这么处理, 对于目标, 对于团队, 对于个人, 有何帮助?
如果没有, 为什么要这么做?</p>
<blockquote>
<p>软件设计科学的目标: 1.确保软件能够提供尽可能多的帮助. 2.确保软件能够持续提供尽可能多的帮助 3.设计程序员能尽可能简单地开发和维护的软件系统. 才能实现1/2</p>
</blockquote>
<p>1代表软件本身的价值, 2代表软件的可维护性可扩展性, 3代表, 好的/简单的设计, 决定了可维护性和可扩展性, 是万丈高楼的地基. 不过1和3, 在有限资源的情况下(资源永远是不够的), 是互相冲突的, 所以要思考如何保持平衡.</p>
<p>这里提到, 软件的开发和维护都应当简单, 要避免困难和复杂.</p>
<blockquote>
<p>软件设计方程式 可取程度=价值/成本  =&gt;  可行性=(当前价值+未来价值)/(实现成本+维护成本)</p>
</blockquote>
<p>当前价值和实现成本往往是可评估的, 人们会关注于这一点, 带来的问题就是忽略了未来价值和维护成本, 这两个和时间相关, 不易评估, 但是却更为重要. 人很容易只着眼于现在而忽略了未来. 所以写代码时需要注意, <code>存在着未来</code>.</p>
<p><code>相比降低实现成本, 降低维护成本更为重要</code>. 很直观的感觉, 一个设计良好的接口, 在需求变更的时候, 只需要动个参数或者动几行代码或者压根不需要改. 而一个糟糕的设计里, 每次需求变更, 会发现需要改动很多代码, 甚至是重写, 连带测试等时间, 你会发现很多时间耗费在里面. 所以应该一开始就理解, 往未来看一眼(预测短期未来是可行的, 预测长期未来是不靠谱的), 再进行设计, 再进行代码.</p>
<blockquote>
<p>变化定律: 程序存在的时间越久, 它的某个部分需要变化的可能性就越高.</p>
</blockquote>
<p>一切都是变化的, 你自己, 还有这个世界.</p>
<p>所以需求变更是必然的:)</p>
<p>之前学到一个很重要的观点: <code>拥抱变化</code>.</p>
<blockquote>
<p>软件设计三大误区: 1.编写不必要的代码 2.代码难以修改 3.过分追求通用</p>
</blockquote>
<p>YAGIN, <code>不要编写不是必须的代码, 并且要删除没有用到的代码</code>. 版本库干嘛用的? 提交, 然后删除那些没用的, 然后再提交:)</p>
<p>僵化设计的原因: 1.对未来做了太多假设(......) 2.不仔细设计就编写代码(新手需注意). <code>设计程序时, 应当根据你现在确切知道的需求, 而不是你认为未来会出现的需求</code></p>
<p>避免过度设计: 仅仅根据目前确知的需求来考虑通用.</p>
<blockquote>
<p>缺陷概率定律: 在程序中新增缺陷的可能性与代码修改量成正比</p>
</blockquote>
<p>好的设计, 代码少(很大可能), 代码变更少, 而糟糕的设计, 反之. 从而, bug出现的概率显而易见</p>
<blockquote>
<p>最好的设计, 就是能够适应外界尽可能多的变化. 而软件自身的变化要尽可能少.</p>
</blockquote>
<p>不变应万变, 追求之</p>
<blockquote>
<p>永远不要<code>修正</code>任何东西, 除非它真的可能有问题, 而且有证据表明问题确实存在.</p>
</blockquote>
<p>例如: &ldquo;过早优化&rdquo;!</p>
<p>当问题成为问题的时候, 才是问题, 才需要去处理!</p>
<blockquote>
<p>理想情况下, 任何系统里的任何信息, 都应当只存在一次.</p>
</blockquote>
<p>避免重复. 变更时代价最小.</p>
<blockquote>
<p>简洁定律: 软件任何一部分的维护难度, 反比于该部分的简洁程度.</p>
</blockquote>
<p>简洁是相对的.</p>
<p>保持一致/可读性(代码被阅读的次数远远多于编写和修改的次数)/命名/注释(代码的意图通常不应该用注释来说明, 直接阅读代码就应当能够理解)</p>
<blockquote>
<p>复杂性是会叠加的, 而不是简单的线性叠加</p>
</blockquote>
<p>问题复杂, 解法不一定复杂. </p>
<p>解决复杂性: 把它分解成独立的小部分, 并进行重新设计.</p>
<blockquote>
<p>测试法则: 你对软件行为的了解程度, 等于你真正测试它的程度......除非亲自测试过, 否则你不知道软件是否能正常运行.</p>
</blockquote>
<p>about test.</p>
<h2 id="_2">编写可读代码的艺术</h2>
<p>关于如何编写高质量可读的代码的方法论:)</p>
<p><img alt="封面" src="/imgs/books/the-art-of-readable-code.jpg"/></p>
<p>&lt;&lt;The Art of Readable Code&gt;&gt;, 这本书就不细写了, 因为不到两百页, 几乎每一页都是干货.</p>
<p>强烈推荐.</p>
<p>代码大全太厚, &lt;&lt;Clean Code&gt;&gt;太晦涩, 建议来读这本. 本次总能得到一些感悟.</p>
    </section>

    <section id="copyright">
        <div class="copyright">
            版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" >Creative Commons BY-NC-ND 3.0</a>
        </div>

        <div class="donation">
            <center>
            <img src="/imgs/life/donation.png"/>
            <strong> 如果你觉得我的文章或项目对你有所帮助, You can buy me a coffee:) </strong>
            </center>
        </div>
    </section>


    <section id="neighbors">
        <div>
                        <a class="left" href="http://www.wklken.me/posts/2014/11/09/rework.html">
                            上一篇:  重读Rework
                        </a>
                        <a class="right" href="http://www.wklken.me/posts/2014/11/16/unit-statistics-system.html">
                            下一篇: 基于 PostgreSQL 的数据统计系统
                        </a>
        </div>
    </section>

    <section id="ad">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- blog_ad_00 -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7635941258020589"
            data-ad-slot="1017690955"
            data-ad-format="auto"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    </section>



<section id="comments">
        <div class="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_identifier = "posts/2014/11/16/code-simplicity-and-the-art-of-readable-code.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://wklken.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            </div>
</section>



</article>
        </section><!--end #main-->

            <footer class="row">
                <div class="large-12 columns">
                    <p>
                            Copyright © 2015 wklken <br>
                            Hosted on <a href="http://www.vultr.com/?ref=6847203"> vultr </a> Also <a href="https://www.digitalocean.com/?refcode=8ee73f2c47ce"> DigitalOcean </a>. Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>.
                    </p>
                </div>
            </footer>

            </div>
        </div>

        <section id="extras" class="body">
        </section><!-- /#extras -->



<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/jquery-scrollUp/2.1.0/jquery.scrollUp.min.js"></script>
<script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script>
    $(function(){
        $.scrollUp({
              scrollText: '', // Text for element, can contain HTML
            });
    });
</script>


<script type="text/javascript">
  /* var Swiftype = window.Swiftype || {}; */
  /* Swiftype.searchSearchFields = { */
    /* "page": ["title^10", "body"] */
  /* }; */

  /* (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ */
  /* (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); */
  /* e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); */
  /* })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st'); */

  /* _st('install','v6K-_DamCeHvwX6z3o2F'); */
</script>



    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-42275748-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>




<div id="share">
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["mshare","tsina","weixin","douban","meilishuo","mogujie","youdao","sdo","mail","twi","copy","print"],"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"5","bdPos":"right","bdTop":"96.5"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>



<script  src="http://www.wklken.me/theme/js/scroll-header.js" type="text/javascript"></script>




</body>
</html>